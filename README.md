# Хакатон цифровой прорыв

## Архитектура проекта
Всю архитектуру проекта можно найти в папке `design`. Там присутствует общая C4 модель, а так же UML диаграммы каждого микросервиса и ссылки на них в файле `diagrams.txt`.

## Способ запуска
Подготовительное действие: создать и прописать секретные переменные в файле `.env` и поместить его рядом с `docker-compose.yaml`.

Если данных от почты нет, то можно воспользоваться нашими, которые уже лежат в файле `.env.example` :)

Запустите файл `docker-compose.yaml` с помощью команды `make start-build` или `docker compose up --build`

Все готово!

## Ссылка на сайт - http://31.129.50.189

## Описание веб-приложения
Оно представляет собой 4 микросервиса один из которых является сервером аутентификации.
Микросервисы main и auth спроектированные изнутри событийно-ориентированно. То есть в каждом из них есть команды, их обработчики и медиатор для их связывания. Так же они внутри разделены по луковой архитектуре и активно используется инверсия зависимостей.
Для работы с базами данных использовались такие паттерны как репозиторий и unit_of_work. Они передаются в функции за счет декораторов. Для хранения пользователей и их чатов использовалось PostgresSQL, а для истории чатов - MongoDB.

Другие микросервисы, которые предоставляют API для работы с модельками вызывают себя поочередно, а main уже возвращает результат. 

Полноценные комментарии по коду есть в микросервисе `auth`. `app` имеет такую же общую архитектуру, но имеет дополнительный функционал вроде регистрации с подтверждением через почту.
